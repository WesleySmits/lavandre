"use strict";(self.webpackChunklavandre=self.webpackChunklavandre||[]).push([[485],{2682:function(t,e,n){var r,i,s=n(3796),__classPrivateFieldGet=function(t,e,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(t):r?r.value:e.get(t)};class CopyCoupon extends s.Z{constructor(){super(...arguments),r.add(this)}connectedCallback(){super.connectedCallback(),this.addEventListener("click",__classPrivateFieldGet(this,r,"m",i).bind(this))}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListener("click",__classPrivateFieldGet(this,r,"m",i).bind(this))}}r=new WeakSet,i=function _CopyCoupon_onClick(t){t.preventDefault();const e=this.dataset.code,n=this.dataset.text,r=this.dataset.copiedText;return!!(e&&n&&r)&&(navigator.clipboard.writeText(e),this.innerText=r,setTimeout((()=>{this.innerText=n}),3e3),!1)},window.customElements.define("copy-coupon",CopyCoupon,{extends:"button"});var a,o,c=n(5892),d=n(5555),RedeemPointsForCoupon_classPrivateFieldGet=function(t,e,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(t):r?r.value:e.get(t)};class RedeemPointsForCoupon extends s.Z{constructor(){super(...arguments),a.add(this)}connectedCallback(){super.connectedCallback(),this.addEventListener("click",RedeemPointsForCoupon_classPrivateFieldGet(this,a,"m",o).bind(this))}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListener("click",RedeemPointsForCoupon_classPrivateFieldGet(this,a,"m",o).bind(this))}}a=new WeakSet,o=function _RedeemPointsForCoupon_handleClick(t){t.preventDefault();const e=this.dataset.id;if(!e)return!1;const n={action:"ajaxredeemcoupon",id:e};return(0,d.Ye)(n,c.Z.ajax,null,(()=>{}),void 0,t,this),!1},window.customElements.define("redeem-points-for-coupon",RedeemPointsForCoupon)},5892:function(t,e){const n={ajax:`${window.location.origin}/wp-admin/admin-ajax.php`};e.Z=n},5555:function(t,e,n){n.d(e,{Ye:function(){return sendAjaxRequest}});var r=new class HttpClient{get(t,e){return this.request(t,e)}post(t,e,n){const r={method:"post",body:e,headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}},i=Object.assign(Object.assign({},r),n);return this.request(t,i)}put(t,e,n){const r={method:"put",body:e,headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}},i=Object.assign(Object.assign({},r),n);return this.request(t,i)}delete(t,e,n){const r={method:"delete",body:e},i=Object.assign(Object.assign({},r),n);return this.request(t,i)}request(t,e){const n=Object.assign(Object.assign({},{method:"get",credentials:"same-origin",headers:{Accept:"application/json","Content-Type":"application/json"}}),e);return fetch(t,n).then(this.requestStatus).then(this.responseType)}requestStatus(t){return t.status>=200&&t.status<300?Promise.resolve(t):t.status>=400&&t.status<500?t.text().then((t=>Promise.reject(t))):Promise.reject(new Error(t.statusText))}responseType(t){const e=t.headers.get("content-type");return null!==e&&-1!==e.indexOf("application/json")?t.json():t.text()}convertFormDataToQueryString(t){return new URLSearchParams(t).toString()}};function sendAjaxRequest(t,e,n,i,s,a,o){const c=r,d={method:"post",body:new URLSearchParams(t).toString(),credentials:"same-origin",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}};n&&function addLoadingState(t){if(!t)return;t.classList.add("custom-cart__item--loading");const e=document.createElement("DIV");e.classList.add("ww-loader"),t.appendChild(e)}(n),o&&function setButtonLoadingState(t){t.disabled=!0,t.setAttribute("loading","true")}(o),c.post(e,"",d).then((t=>new Promise((()=>{const e=t,r=e.data;if(!1===e.success)throw new Error(String(r));i(e,a),n&&removeLoadingState(n),o&&removeButtonLoadingState(o)})))).catch((t=>{n&&removeLoadingState(n),o&&removeButtonLoadingState(o),s&&s(t)}))}function removeLoadingState(t){if(!t)return;t.classList.remove("custom-cart__item--loading");const e=t.querySelector(".ww-loader");e&&e.parentElement.removeChild(e)}function removeButtonLoadingState(t){t.disabled=!1,t.removeAttribute("loading")}},3796:function(t,e,n){n.d(e,{Z:function(){return LavandreButton}});var r,__classPrivateFieldGet=function(t,e,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(t):r?r.value:e.get(t)},__classPrivateFieldSet=function(t,e,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(t,n):i?i.value=n:e.set(t,n),n};class LavandreButton extends HTMLButtonElement{constructor(){super(),r.set(this,this.hasAttribute("aria-disabled")),this.clickHandler=t=>{null!==this.href&&(t.preventDefault(),window.location.href=this.href)},this.setAttribute("is","lavandre-button")}get label(){return this.innerText}set label(t){this.innerText=t}get href(){return this.getAttribute("href")||""}set href(t){this.setAttribute("href",t)}get size(){return this.getAttribute("size")||""}set size(t){this.setAttribute("size",t)}get primary(){return this.hasAttribute("primary")}set primary(t){t&&this.setAttribute("primary",t.toString())}get outline(){return this.hasAttribute("primary")}set outline(t){t&&this.setAttribute("outline",t.toString())}get link(){return this.hasAttribute("link")}set link(t){t&&this.setAttribute("link",t.toString())}get fullWidth(){return this.hasAttribute("primary")}set fullWidth(t){t&&this.setAttribute("full-width",t.toString())}get loading(){return this.hasAttribute("primary")}set loading(t){t&&this.setAttribute("loading",t.toString())}get isDisabled(){return __classPrivateFieldGet(this,r,"f")}set isDisabled(t){__classPrivateFieldSet(this,r,t,"f"),this.toggleAttribute("aria-disabled",t)}connectedCallback(){this.href&&this.addEventListener("click",this.clickHandler)}disconnectedCallback(){this.href&&this.removeEventListener("click",this.clickHandler)}}r=new WeakMap}},function(t){var e;e=2682,t(t.s=e)}]);