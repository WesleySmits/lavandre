(window.webpackJsonp=window.webpackJsonp||[]).push([["productDetail"],{"59Rd":function(t,e,a){"use strict";a.r(e),a.d(e,"default",(function(){return productDetail_ProductDetail}));var i=a("Gi9F"),r=a("RfZo"),n=a("T8im"),o=a("tBEf"),l=a("k92o");class AjaxAddToCart_AjaxAddToCart extends i.a{constructor(t){super(),this.ajaxEndpoint=window.location.origin+"/wp-admin/admin-ajax.php",this.button=t}initialize(){this.button.addEventListener("click",t=>{var e,a,i;t.preventDefault();const r=this.button.closest("form");if(!r)return;let n=!0;if(Array.from(r.querySelectorAll("input")).forEach(t=>{t.dispatchEvent(new Event("validate")),t.validity.valid||(n=!1)}),!n)throw new Error("Product add form is not valid");const l=Number(null===(e=null==r?void 0:r.querySelector('input[name="quantity"]'))||void 0===e?void 0:e.value)||1,c=null!==(i=Number(null===(a=null==r?void 0:r.elements["attribute_attribute_pa_aantal-per-omverpakking"])||void 0===a?void 0:a.value))&&void 0!==i?i:0,d={action:"ajaxaddtocart",product_id:this.button.value,quantity:l.toString(),variation_id:c.toString()};return Object(o.a)(d,this.ajaxEndpoint,null,this.onSuccess.bind(this),this.onFailure.bind(this),void 0,this.button),!1})}onSuccess(t){if(!1===t.success)throw new Error("something is wrong");r.a.openSidePanel("cart-panel"),l.default.updateCart(),t.data.cartAmount&&Object(n.a)(t.data.cartAmount)}onFailure(){const t=this.button.closest("form");null!==t&&t.submit()}static onInit(t=document){const e=t.querySelector('button[name="add-to-cart"]');if(null===e)return;new AjaxAddToCart_AjaxAddToCart(e).initialize()}}var c=a("kR8q");class ChangeVariantPrice_ChangeVariantPrice extends i.a{constructor(t){super(),this.ajaxEndpoint=window.location.origin+"/wp-admin/admin-ajax.php",this.regularPriceElement=null,this.salePriceElement=null,this.elements=t}initialize(){this.elements.length&&(this.regularPriceElement=document.querySelector(".product-detail__price ins [data-product-price]")||document.querySelector(".product-detail__price [data-product-price]"),this.salePriceElement=document.querySelector(".product-detail__price del [data-product-price]"),this.salePriceElement&&this.regularPriceElement&&this.elements.forEach(t=>{t.addEventListener("change",()=>{const e=t.value,a=t.dataset.productId;if(!e||!a)return;if(!document.querySelector(".product-detail__price [data-product-price]"))return;const i={action:"ajaxgetvariantprice",product_id:a,variation_id:e};Object(o.a)(i,this.ajaxEndpoint,null,this.onSuccess.bind(this),this.onFailure.bind(this))})}))}onSuccess(t){if(!1===t.success)throw new Error("something is wrong");if(!t.data||!t.data.salePrice||!t.data.regularPrice)throw new Error("No data");const e=Number(t.data.regularPrice).toFixed(2),a=Number(t.data.salePrice).toFixed(2);this.regularPriceElement.innerText=e,this.salePriceElement.innerText=a}onFailure(){}static onInit(t){const e=Array.from(t.querySelectorAll('input[type="radio"][name="attribute_attribute_pa_aantal-per-omverpakking"]'));if(!e.length)return;new ChangeVariantPrice_ChangeVariantPrice(e).initialize()}}class ImageGallery_ImageGallery extends i.a{constructor(t){super(),this.element=t}initialize(){Array.from(this.element.querySelectorAll(".product-detail__gallery__thumbnails a")).forEach(t=>{t.addEventListener("click",e=>{e.preventDefault();const a=t.dataset.thumbnailId,i=this.element.querySelector(`[data-image-id="${a}"]`);if(null===i)return;const r=i.parentElement;Array.from(r.querySelectorAll("li.active")).forEach(t=>{t.classList.remove("active")}),i.classList.add("active")})})}static onInit(t=document){const e=t.querySelector(".product-detail__gallery");if(null===e)return;new ImageGallery_ImageGallery(e).initialize()}}var d=a("Q0Az");class productDetail_ProductDetail extends d.a{constructor(){super(...arguments),this.components=[AjaxAddToCart_AjaxAddToCart,c.a,ImageGallery_ImageGallery,ChangeVariantPrice_ChangeVariantPrice]}}!function productDetailInit(){(new productDetail_ProductDetail).initialize()}()}},[["59Rd","runtime",0]]]);